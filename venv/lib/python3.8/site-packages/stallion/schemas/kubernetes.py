import marshmallow as ma
from .base import StrictSchema

class GkeSchema(StrictSchema):
    cluster_project = ma.fields.String()
    cluster_region = ma.fields.String(required = True)
    cluster_name = ma.fields.String(required = True)


class HelmSchema(StrictSchema):
    repo_url = ma.fields.Url(required=True)
    chart_name = ma.fields.String(required=True)

    image_values_key = ma.fields.String(required=True)
    image_tag_values_key = ma.fields.String()
    labels_values_key = ma.fields.String()


class KubernetesSchema(StrictSchema):
    gke = ma.fields.Nested(GkeSchema())
    helm = ma.fields.Nested(HelmSchema())

    namespace = ma.fields.String()
