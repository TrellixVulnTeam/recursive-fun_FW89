import marshmallow as ma
from stallion.schemas.base import StrictSchema
from stallion_etsy_plugin.components.generic_cloud_function import GenericCloudFunction

class NotificationSchema(StrictSchema):
    email = ma.fields.String(required=True)

class DataprocSinkAlertRouterSchema(StrictSchema):
    notification = ma.fields.Nested(NotificationSchema, required = True)

class DataprocSinkAlertRouter(GenericCloudFunction):
    schema = DataprocSinkAlertRouterSchema
    type = 'dataproc-sink-alert-router'
